{% extends "authentification/base1.html" %}
{% load static %}
{% block content %}

<!-- Hero Section -->
<section id="hero" class="hero section">
  <div class="container">
    <div class="row">

      <!-- Image Section -->
      <div class="col-lg-6 order-2 order-lg-1 hero-img">
        <img src="{% static 'assets/img/hero-img.png' %}" class="img-fluid animated" alt="">
      </div>

      <!-- Form Section -->
      <div class="col-lg-6 order-1 order-lg-2 d-flex flex-column justify-content-center">
        <div class="card">
          <div class="card-body">
            <div class="pt-4 pb-2">
              <h5 class="card-title text-center pb-0 fs-4">Changer le mot de passe</h5>
              <p class="text-center small">Veuillez remplir le formulaire ci-dessous</p>
            </div>

            <form class="row g-3 needs-validation" method="POST" novalidate>
              {% csrf_token %}
              
              <!-- Old Password Field -->
              <div class="col-12">
                <label for="oldPassword" class="form-label">Mot de passe actuel</label>
                <input 
                  type="password" 
                  name="old_password" 
                  class="form-control {% if form.old_password.errors %}is-invalid{% endif %}" 
                  id="oldPassword" 
                  required 
                  aria-describedby="oldPasswordFeedback">
                {% if form.old_password.errors %}
                  <div class="invalid-feedback" id="oldPasswordFeedback">
                    {{ form.old_password.errors.0 }}
                  </div>
                {% else %}
                  <div class="invalid-feedback">
                    Veuillez entrer votre mot de passe actuel.
                  </div>
                {% endif %}
              </div>

              <!-- New Password Field -->
              <div class="col-12">
                <label for="newPassword1" class="form-label">Nouveau mot de passe</label>
                <input 
                  type="password" 
                  name="new_password1" 
                  class="form-control {% if form.new_password1.errors %}is-invalid{% endif %}" 
                  id="newPassword1" 
                  required 
                  aria-describedby="newPassword1Feedback">
                {% if form.new_password1.errors %}
                  <div class="invalid-feedback" id="newPassword1Feedback">
                    {{ form.new_password1.errors.0 }}
                  </div>
                {% else %}
                  <div class="invalid-feedback">
                    Veuillez entrer un nouveau mot de passe.
                  </div>
                {% endif %}
              </div>

              <!-- Confirm New Password Field -->
              <div class="col-12">
                <label for="newPassword2" class="form-label">Confirmer le nouveau mot de passe</label>
                <input 
                  type="password" 
                  name="new_password2" 
                  class="form-control {% if form.new_password2.errors %}is-invalid{% endif %}" 
                  id="newPassword2" 
                  required 
                  aria-describedby="newPassword2Feedback">
                {% if form.new_password2.errors %}
                  <div class="invalid-feedback" id="newPassword2Feedback">
                    {{ form.new_password2.errors.0 }}
                  </div>
                {% else %}
                  <div class="invalid-feedback">
                    Veuillez confirmer votre nouveau mot de passe.
                  </div>
                {% endif %}
              </div>

              <!-- Submit Button -->
              <div class="col-12">
                <button class="btn btn-primary w-100" type="submit">Changer le mot de passe</button>
              </div>
            </form>

          </div>
        </div>
      </div>

    </div>
  </div>
</section>
<!-- /Hero Section -->

{% endblock content %}
